
# Notification Service Environment Configuration

# Service Configuration
SERVICE_NAME=notification-service
PORT=9006
NODE_ENV=development

# Database
DATABASE_URL=postgresql://postgres:postgres@postgres:5432/ai_employee_platform

# Redis for Caching and Pub/Sub
REDIS_URL=redis://redis:6379
CACHE_TTL=3600
NOTIFICATION_TTL=2592000

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_PORT=9007
WEBSOCKET_PATH=/notifications
MAX_WEBSOCKET_CONNECTIONS=10000
WEBSOCKET_HEARTBEAT_INTERVAL=30000

# Email Configuration
EMAIL_ENABLED=true
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
EMAIL_FROM="AI Employee Platform <notifications@example.com>"
EMAIL_BATCH_SIZE=50
EMAIL_RATE_LIMIT=1000

# SMS Configuration
SMS_ENABLED=false
TWILIO_ACCOUNT_SID=your_twilio_account_sid
TWILIO_AUTH_TOKEN=your_twilio_auth_token
TWILIO_PHONE_NUMBER=your_twilio_phone_number
SMS_RATE_LIMIT=100

# Push Notifications (Optional)
PUSH_NOTIFICATIONS_ENABLED=false
VAPID_PUBLIC_KEY=your_vapid_public_key
VAPID_PRIVATE_KEY=your_vapid_private_key
VAPID_SUBJECT=mailto:admin@example.com

# Notification Types
SUPPORTED_TYPES=email,sms,push,websocket,in-app
DEFAULT_NOTIFICATION_TYPES=email,in-app
EMERGENCY_NOTIFICATION_TYPES=email,sms,push

# Notification Categories
CATEGORIES=system,security,billing,plugin,user,ai-routing
CATEGORY_PRIORITIES={"system": "high", "security": "critical", "billing": "medium", "plugin": "low", "user": "medium", "ai-routing": "low"}

# Template Configuration
TEMPLATE_CACHE_ENABLED=true
TEMPLATE_CACHE_TTL=3600
EMAIL_TEMPLATE_DIR=templates/email
SMS_TEMPLATE_DIR=templates/sms

# Queue Configuration
NOTIFICATION_QUEUE_ENABLED=true
MAX_QUEUE_SIZE=10000
QUEUE_WORKER_CONCURRENCY=5
FAILED_NOTIFICATION_RETRY_ATTEMPTS=3
RETRY_DELAY=60000

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW_MS=900000
NOTIFICATION_RATE_LIMIT_PER_USER=1000

# User Preferences
ALLOW_USER_PREFERENCES=true
DEFAULT_PREFERENCES={"email": true, "sms": false, "push": true, "in-app": true}
PREFERENCE_CACHE_TTL=1800

# Logging
LOG_LEVEL=info
LOG_FORMAT=combined
LOG_NOTIFICATION_DELIVERY=true
LOG_FAILED_NOTIFICATIONS=true

# Analytics
NOTIFICATION_ANALYTICS_ENABLED=true
DELIVERY_METRICS_ENABLED=true
OPEN_TRACKING_ENABLED=false
CLICK_TRACKING_ENABLED=false

# Integration URLs
AUTH_SERVICE_URL=http://auth-service:9001
USER_MANAGEMENT_SERVICE_URL=http://user-management-service:9004
FRONTEND_URL=http://localhost:3000

# Security
NOTIFICATION_ENCRYPTION_ENABLED=false
CONTENT_SANITIZATION_ENABLED=true
VALIDATE_NOTIFICATION_SOURCES=true

